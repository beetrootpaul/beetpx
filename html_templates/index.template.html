<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--
    BASE64 content generated with:
      base64 -i logo/BeetPx\ logo\ \(x5\).png
    -->
    <link
      rel="icon"
      type="image/png"
      sizes="80x80"
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAVdJREFUeJzt3MFNw0AQQFFAdMCRymiCrjlSQyiAPVh5o7Uh/x2jCIevlQd7Y55vnx+3pwfy9vX7te/3+9/34h/psRUQFRAVEL2uXlydQP8z+X1bgaiAqICogKiAqICogKiAqIBoeSXyF61uNR3VlciJCogKiAqItgyR6RP80T2M6c+y0gpEBUQFRAVE40Pk6gNj+hitQFRAVEBUQERDZPqveiGDQLQCUQFRAVEB0eEhsmNgHD2GXGGstCdyogKiAqICosNDZMctpOnPMn3clVYgKiAqICogGt8T2TEw5NZVeyIXU0BUQFRAtOXbWdN7E2dd2ay0AlEBUQFRAdGWPZHpfzWyet9ZT9m3AlEBUQFRAdFpDxtO31Y6SysQFRAVEBUQ0RCRE/yOZzh2aAWiAqICogKi8W9nTf+8Kw2MlVYgKiAqICogWg6RKz1EeHWtQFRAVEBUQPQDHRdHQWx83G0AAAAASUVORK5CYII="
    />

    <!-- TODO: start button to initiate sounds!  -->

    <!-- TODO: mouse GUI all aspect ratios  -->

    <!-- TODO: Allow a game title injection as build script params -->
    <title>BeetPx game</title>

    <!--
    Keep styles embedded in HTML here, because external CSS file is loaded by Vite in a way which can make GUI flicker.
    -->
    <style>
      :root {
        --loading-bg-color: #49333b;
        --gui-bg-color: #49333b;
      }

      * {
        margin: 0;
        box-sizing: border-box;
        image-rendering: pixelated;

        /* Dear Safari, please do NOT highlight any text or div when I press
           it for a longer time. Those are game buttons and they are meant
           to be kept pressed… */
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
      }

      html {
        width: 100vw;
        height: 100vh;
      }

      body {
        width: 100vw;
        height: 100vh;
        overflow: hidden;

        font-family: monospace;

        background-color: var(--gui-bg-color);
      }

      * {
        /*
        This prevents panning on touch-drag:
          https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events#touch-action_css_property
        */
        touch-action: none;
      }

      #screen_loading {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;

        background-color: var(--loading-bg-color);

        display: grid;
        grid-template-areas:
          ".       . ."
          ". spinner ."
          ".       . .";
        grid-template-columns: 1fr 3fr 1fr;
        grid-template-rows: 1fr 3fr 1fr;
      }

      .loaded #screen_loading {
        display: none;
      }

      #screen_start_game__spinner {
        grid-area: spinner;

        /* Remove standard visual aspects of a button */
        background-color: transparent;
        border: none;

        /* Add an image to act as a button */
        background-image: url(.beetpx/loading.gif);
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
      }

      /* TODO: Polish this screen */
      #screen_start_game {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;

        background-color: var(--loading-bg-color);

        display: grid;
        grid-template-areas:
          ".     . ."
          ". start ."
          ".     . .";
        grid-template-columns: 1fr 3fr 1fr;
        grid-template-rows: 1fr 3fr 1fr;
      }

      .started #screen_start_game {
        display: none;
      }

      #screen_start_game__button {
        grid-area: start;

        /* Remove standard visual aspects of a button */
        background-color: transparent;
        border: none;

        /* Add an image to act as a button */
        background-image: url(.beetpx/start.png);
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
      }

      #game_display {
        width: 100vw;
        height: 100vh;

        /*
        We need this bg color to be set on the element which is zoomed in when in a full
          screen and we cannot do this for the entire <body>, because Safari ignores
          body's bg color on full screen, and includes only the zoomed in element.
        */
        background-color: var(--gui-bg-color);

        display: grid;
        gap: 0 0;
      }

      #game_canvas {
        width: 100%;
        height: 100%;

        background-color: #000000;
        border: 1px solid #000000;
        box-sizing: border-box;
      }

      .debug #game_canvas {
        border-color: #ff004d;
      }

      #game_canvas {
        grid-area: canv;
      }

      /*
       * EDGES
       */

      #edge_tl {
        grid-area: e_TL;
        background-image: url(.beetpx/edge_tl.png);
        background-size: var(--scs);
        background-repeat: no-repeat;
      }

      #edge_t {
        grid-area: e_t_;
        background-image: url(.beetpx/edge_t.png);
        background-size: var(--scs);
        background-repeat: repeat-x;
      }

      #edge_tr {
        grid-area: e_TR;
        background-image: url(.beetpx/edge_tr.png);
        background-size: var(--scs);
        background-repeat: no-repeat;
        background-position-x: right;
      }

      #edge_l {
        grid-area: e__l;
        background-image: url(.beetpx/edge_l.png);
        background-size: var(--scs);
        background-repeat: repeat-y;
      }

      #edge_r {
        grid-area: e__r;
        background-image: url(.beetpx/edge_r.png);
        background-size: var(--scs);
        background-repeat: repeat-y;
        background-position-x: right;
      }

      #edge_bl {
        grid-area: e_BL;
        background-image: url(.beetpx/edge_bl.png);
        background-size: var(--scs);
        background-repeat: no-repeat;
        background-position-y: bottom;
      }

      #edge_b {
        grid-area: e_b_;
        background-image: url(.beetpx/edge_b.png);
        background-size: var(--scs);
        background-repeat: repeat-x;
        background-position-y: bottom;
      }

      #edge_br {
        grid-area: e_BR;
        background-image: url(.beetpx/edge_br.png);
        background-size: var(--scs);
        background-repeat: no-repeat;
        background-position-x: right;
        background-position-y: bottom;
      }

      /*
       * GUI SPRITES
       */

      .gui_sprite {
        background-image: url(.beetpx/gui.png);
        background-size: calc(var(--scs) * 17);
      }

      /*
       * GUI SPRITES - DPAD
       */

      #dpad_u {
        grid-area: d_u_;
        background-position: calc(var(--scs) * -10) calc(var(--scs) * -9);
      }

      .pressed_u #dpad_u {
        background-position-y: calc(var(--scs) * -5);
      }

      .pressed_d #dpad_u {
        background-position-y: calc(var(--scs) * -13);
      }

      .pressed_l #dpad_u {
        background-position-x: calc(var(--scs) * -6);
      }

      .pressed_r #dpad_u {
        background-position-x: calc(var(--scs) * -14);
      }

      #dpad_d {
        grid-area: d_d_;
        background-position: calc(var(--scs) * -10) calc(var(--scs) * -11);
      }

      .pressed_u #dpad_d {
        background-position-y: calc(var(--scs) * -7);
      }

      .pressed_d #dpad_d {
        background-position-y: calc(var(--scs) * -15);
      }

      .pressed_l #dpad_d {
        background-position-x: calc(var(--scs) * -6);
      }

      .pressed_r #dpad_d {
        background-position-x: calc(var(--scs) * -14);
      }

      #dpad_l {
        grid-area: d__l;
        background-position: calc(var(--scs) * -9) calc(var(--scs) * -10);
      }

      .pressed_u #dpad_l {
        background-position-y: calc(var(--scs) * -6);
      }

      .pressed_d #dpad_l {
        background-position-y: calc(var(--scs) * -14);
      }

      .pressed_l #dpad_l {
        background-position-x: calc(var(--scs) * -5);
      }

      .pressed_r #dpad_l {
        background-position-x: calc(var(--scs) * -13);
      }

      #dpad_r {
        grid-area: d__r;
        background-position: calc(var(--scs) * -11) calc(var(--scs) * -10);
      }

      .pressed_u #dpad_r {
        background-position-y: calc(var(--scs) * -6);
      }

      .pressed_d #dpad_r {
        background-position-y: calc(var(--scs) * -14);
      }

      .pressed_l #dpad_r {
        background-position-x: calc(var(--scs) * -7);
      }

      .pressed_r #dpad_r {
        background-position-x: calc(var(--scs) * -15);
      }

      #dpad_center {
        grid-area: d___;
        background-position: calc(var(--scs) * -10) calc(var(--scs) * -10);
      }

      .pressed_u #dpad_center {
        background-position-y: calc(var(--scs) * -6);
      }

      .pressed_d #dpad_center {
        background-position-y: calc(var(--scs) * -14);
      }

      .pressed_l #dpad_center {
        background-position-x: calc(var(--scs) * -6);
      }

      .pressed_r #dpad_center {
        background-position-x: calc(var(--scs) * -14);
      }

      #dpad_ul {
        grid-area: d_ul;
      }

      #dpad_ur {
        grid-area: d_ur;
      }

      #dpad_dl {
        grid-area: d_dl;
      }

      #dpad_dr {
        grid-area: d_dr;
      }

      /*
       * GUI SPRITES - OTHER
       */

      #button_a {
        grid-area: bt_a;
        background-position: 0 0;
      }

      .pressed_a #button_a {
        background-position-y: calc(var(--scs) * -3);
      }

      #button_b {
        grid-area: bt_b;
        background-position: calc(var(--scs) * -3) 0;
      }

      .pressed_b #button_b {
        background-position-y: calc(var(--scs) * -3);
      }

      #button_menu {
        grid-area: menu;
        background-position: calc(var(--scs) * -6) 0;
      }

      .pressed_menu #button_menu {
        background-position-y: calc(var(--scs) * -3);
      }

      #button_mute {
        grid-area: b_mu;
        background-position: calc(var(--scs) * -9) 0;
      }

      .pressed_mute #button_mute {
        background-position-y: calc(var(--scs) * -3);
      }

      #button_fullscreen {
        grid-area: full;
        background-position: calc(var(--scs) * -11) 0;
      }

      .pressed_fullscreen #button_fullscreen {
        background-position-y: calc(var(--scs) * -3);
      }

      #indicator_mute {
        grid-area: i_mu;
        background-position: calc(var(--scs) * -10) calc(var(--scs) * -1);
      }

      .muted #indicator_mute {
        grid-area: i_mu;
        background-position-x: calc(var(--scs) * -14);
      }

      @media not (pointer: coarse) {
        #button_mute {
          background-position-x: calc(var(--scs) * -13);
        }

        #button_fullscreen {
          background-position-x: calc(var(--scs) * -15);
        }
      }

      /* TODO: polish mute + (optional)full layout on desktop both variants */

      /*
       * MOUSE GUI – portrait
       */
      :root {
        /* "scs" = Sprite Cell Size (16x16 px)*/
        --scs: 10vw;
      }

      #game_display {
        grid-template-areas:
          "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
          "e__l    .    . full    . b_mu b_mu e__r"
          "e__l    .    .    .    . i_mu i_mu e__r"
          "e__l    .    .    .    .    .    . e__r"
          "e__l canv canv canv canv canv canv e__r"
          "e__l    .    .    .    .    .    . e__r"
          "e__l    .    .    .    .    .    . e__r"
          "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
        grid-template-columns: 5vw 5vw 1fr 10vw 5vw 5vw 5vw 5vw;
        grid-template-rows: 5vw 10vw 10vw 1fr 90vw 1fr 20vw 5vw;
      }

      #game_canvas {
        border-width: 1vw;
      }

      /*
       * MOUSE GUI – portrait low
       */
      @media (min-aspect-ratio: 250/360) {
        :root {
          --scs: 10vw;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    .    .    .    .    . e__r"
            "e__l canv canv canv canv canv canv e__r"
            "e__l    .    .    .    .    .    . e__r"
            "e__l    .    . full    . b_mu b_mu e__r"
            "e__l    .    .    .    . i_mu i_mu e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 5vw 5vw 1fr 10vw 5vw 5vw 5vw 5vw;
          grid-template-rows: 5vw 1fr 90vw 5vw 10vw 10vw 5vw;
        }

        #game_canvas {
          border-width: 1vw;
        }
      }

      /*
       * MOUSE GUI – tall square
       */
      @media (min-aspect-ratio: 250/310) {
        :root {
          --scs: 8vw;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l canv canv canv canv canv canv e__r"
            "e__l    .    .    .    .    .    . e__r"
            "e__l    .    . full    . b_mu b_mu e__r"
            "e__l    .    .    .    . i_mu i_mu e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 4vw 4vw 1fr 8vw 4vw 4vw 4vw 4vw;
          grid-template-rows: 4vw 92vw 1fr 8vw 4vw 4vw;
        }

        #game_canvas {
          border-width: 1vw;
        }
      }

      /*
       * MOUSE GUI – mid square
       */
      @media (min-aspect-ratio: 250/290) {
        :root {
          --scs: 6vw;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l b_mu b_mu    . canv    . full full e__r"
            "e__l i_mu i_mu    . canv    .    .    . e__r"
            "e__l    .    .    . canv    .    .    . e__r"
            "e__l    .    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 3vw 3vw 3vw 3vw 76vw 3vw 3vw 3vw 3vw;
          grid-template-rows: 3vw 6vw 6vw 64vw 1fr 3vw;
        }

        #game_canvas {
          border-width: 1vw;
        }
      }

      /*
       * MOUSE GUI – wide square
       */
      @media (min-aspect-ratio: 250/210) {
        :root {
          --scs: 8vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    . b_mu    . canv    . full    . e__r"
            "e__l    . i_mu    . canv    .    .    . e__r"
            "e__l    .    .    . canv    .    .    . e__r"
            "e__l    .    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 4vh 4vh 8vh 1fr 80vh 1fr 8vh 4vh 4vh;
          grid-template-rows: 4vh 8vh 8vh 64vh 1fr 4vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }

      /*
       * MOUSE GUI – landscape
       */
      @media (min-aspect-ratio: 250/170) {
        :root {
          --scs: 10vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    . b_mu    . canv    . full    .    . e__r"
            "e__l    .    . i_mu    . canv    .    .    .    . e__r"
            "e__l    .    .    .    . canv    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 5vh 5vh 1fr 10vh 5vh 90vh 5vh 10vh 1fr 5vh 5vh;
          grid-template-rows: 5vh 10vh 10vh 1fr 5vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }

      /*
       * TOUCH GUI for a REALLY VERTICAL screen
       */
      @media (pointer: coarse) {
        :root {
          --scs: 10vw;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l canv canv canv canv canv canv canv canv canv canv canv canv e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    . menu menu menu    . bt_b bt_b bt_b e__r"
            "e__l d_ul d_ul d_u_ d_ur    .    .    .    .    . bt_b bt_b bt_b e__r"
            "e__l d_ul d_ul d_u_ d_ur    . full    .    .    . bt_b bt_b bt_b e__r"
            "e__l d__l d__l d___ d__r    . full    . bt_a bt_a bt_a    .    . e__r"
            "e__l d__l d__l d___ d__r    .    .    . bt_a bt_a bt_a    .    . e__r"
            "e__l d_dl d_dl d_d_ d_dr    . b_mu    . bt_a bt_a bt_a    .    . e__r"
            "e__l    .    .    .    .    . i_mu    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 5vw 5vw 5vw 10vw 10vw 12vw 10vw 8vw 2vw 8vw 10vw 5vw 5vw 5vw;
          grid-template-rows: 5vw 92vw 1fr 10vw 4vw 6vw 4vw 6vw 10vw 2fr 5vw;
        }

        #game_canvas {
          border-width: 1vw;
        }
      }

      /*
       * TOUCH GUI for a SLIGHTLY VERTICAL screen
       */
      @media (pointer: coarse) and (min-aspect-ratio: 250/370) {
        :root {
          --scs: 8vw;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l canv canv canv canv canv canv canv canv canv canv canv canv e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e__l d_ul d_ul d_u_ d_ur    . full    . menu menu    . bt_b bt_b e__r"
            "e__l d__l d__l d___ d__r    .    .    .    .    . bt_a bt_b bt_b e__r"
            "e__l d_dl d_dl d_d_ d_dr    .    .    . b_mu    . bt_a    .    . e__r"
            "e__l    .    .    .    .    .    .    . i_mu    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 4vw 4vw 4vw 8vw 8vw 3fr 8vw 4vw 8vw 8vw 16vw 12vw 4vw 4vw;
          grid-template-rows: 4vw 92vw 4vw 8vw 8vw 8vw 1fr 4vw;
        }

        #game_canvas {
          border-width: 1vw;
        }
      }

      /*
       * TOUCH GUI for a TALLER SQUARE screen
       */
      @media (pointer: coarse) and (min-aspect-ratio: 250/330) {
        :root {
          --scs: 6vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    . canv canv canv canv canv canv canv canv canv    .    . e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    . menu menu    . bt_b bt_b    .    . e__r"
            "e__l    .    . d_ul d_u_ d_ur    .    .    .    . bt_b bt_b    .    . e__r"
            "e__l    .    . d_ul d_u_ d_ur    . full    .    . bt_b bt_b    .    . e__r"
            "e__l    .    . d__l d___ d__r    . full    . bt_a bt_a    .    .    . e__r"
            "e__l    .    . d__l d___ d__r    .    .    . bt_a bt_a    .    .    . e__r"
            "e__l    .    . d_dl d_d_ d_dr    . b_mu    . bt_a bt_a    .    .    . e__r"
            "e__l    .    .     .   .    .    . i_mu    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 3vh 3vh 1fr 6vh 6vh 6vh 12vh 6vh 6vh 6vh 6vh 6vh 1fr 3vh 3vh;
          grid-template-rows: 3vh 60vh 1fr 6vh 3vh 3vh 3vh 3vh 6vh 1fr 3vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }

      /*
       * TOUCH GUI for a MID SQUARE screen
       */
      @media (pointer: coarse) and (min-aspect-ratio: 250/250) {
        :root {
          --scs: 6vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    .    .    . canv canv canv canv canv canv canv    .    .    .    . e__r"
            "e__l    .    . b_mu    . canv canv canv canv canv canv canv    .    .    .    . e__r"
            "e__l    .    . i_mu    . canv canv canv canv canv canv canv    .    .    .    . e__r"
            "e__l    .    . full    . canv canv canv canv canv canv canv    .    .    .    . e__r"
            "e__l    .    .    .    . canv canv canv canv canv canv canv    .    .    .    . e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e__l    .    . d_ul d_u_ d_u_ d_ur    . menu menu    . bt_b bt_b bt_b    .    . e__r"
            "e__l    .    . d__l d___ d___ d__r    .    . bt_a bt_a bt_b bt_b bt_b    .    . e__r"
            "e__l    .    . d_dl d_d_ d_d_ d_dr    .    . bt_a bt_a    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 3vh 3vh 1fr 6vh 2vh 4vh 6vh 37vh 8vh 4vh 8vh 4vh 2vh 6vh 1fr 3vh 3vh;
          grid-template-rows: 3vh 3vh 6vh 6vh 6vh 50vh 2vh 6vh 6vh 6vh 1fr 3vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }

      /*
       * TOUCH GUI for a WIDER SQUARE screen
       */
      @media (pointer: coarse) and (min-aspect-ratio: 250/180) {
        :root {
          --scs: 10vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    .    .    .    .    . canv    .    .    .    .    .    . e__r"
            "e__l    .    .    . b_mu    .    . canv    .    . menu menu    .    . e__r"
            "e__l    .    .    . i_mu    .    . canv    .    .    .    .    .    . e__r"
            "e__l    .    .    . full    .    . canv    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    . canv    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    . canv    .    . bt_b bt_b    .    . e__r"
            "e__l    .    . d_ul d_u_ d_ur    . canv    .    . bt_b bt_b    .    . e__r"
            "e__l    .    . d_ul d_u_ d_ur    .    .    .    . bt_b bt_b    .    . e__r"
            "e__l    .    . d__l d___ d__r    .    .    . bt_a bt_a    .    .    . e__r"
            "e__l    .    . d_dl d_d_ d_dr    .    .    . bt_a bt_a    .    .    . e__r"
            "e__l    .    .    .    .    .    .    .    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 5vh 5vh 1fr 10vh 10vh 10vh 1fr 58vh 1fr 10vh 10vh 10vh 1fr 5vh 5vh;
          grid-template-rows: 5vh 5vh 10vh 10vh 10vh 8vh 10vh 5vh 5vh 10vh 10vh 1fr 5vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }

      /*
       * TOUCH GUI for a HORIZONTAL screen
       */
      @media (pointer: coarse) and (min-aspect-ratio: 250/130) {
        :root {
          --scs: 12vh;
        }

        #game_display {
          grid-template-areas:
            "e_TL e_TL e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_t_ e_TR e_TR"
            "e__l    .    .    .    .    .    .    . canv    .    .    .    .    .    .    .    . e__r"
            "e__l    .    . b_mu    . full    .    . canv    .    .    . menu menu menu    .    . e__r"
            "e__l    .    . i_mu    .    .    .    . canv    .    .    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    .    . canv    .    .    .    .    .    .    .    . e__r"
            "e__l    .    .    .    .    .    .    . canv    .    .    . bt_b bt_b bt_b    .    . e__r"
            "e__l    .    . d_ul d_u_ d_ur    .    . canv    .    .    . bt_b bt_b bt_b    .    . e__r"
            "e__l    .    . d__l d___ d__r    .    . canv    . bt_a bt_a bt_a    .    .    .    . e__r"
            "e__l    .    . d_dl d_d_ d_dr    .    . canv    . bt_a bt_a bt_a    .    .    .    . e__r"
            "e__l    .    .    .    .    .    .    . canv    .    .    .    .    .    .    .    . e__r"
            "e_BL e_BL e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_b_ e_BR e_BR";
          grid-template-columns: 6vh 6vh 1fr 12vh 12vh 12vh 3vh 3fr 88vh 3fr 12vh 3vh 9vh 3vh 12vh 1fr 6vh 6vh;
          grid-template-rows: 6vh 6vh 12vh 12vh 4vh 12vh 12vh 12vh 12vh 6vh 6vh;
        }

        #game_canvas {
          border-width: 1vh;
        }
      }
    </style>
  </head>
  <body>
    <main id="game_display">
      <div id="edge_tl"></div>
      <div id="edge_t"></div>
      <div id="edge_tr"></div>
      <div id="edge_l"></div>
      <div id="edge_r"></div>
      <div id="edge_bl"></div>
      <div id="edge_b"></div>
      <div id="edge_br"></div>

      <canvas id="game_canvas" width="256" height="256"></canvas>

      <div id="dpad_u" class="gui_sprite"></div>
      <div id="dpad_d" class="gui_sprite"></div>
      <div id="dpad_l" class="gui_sprite"></div>
      <div id="dpad_r" class="gui_sprite"></div>
      <div id="dpad_center" class="gui_sprite"></div>
      <div id="dpad_ul"></div>
      <div id="dpad_ur"></div>
      <div id="dpad_dl"></div>
      <div id="dpad_dr"></div>

      <div id="button_a" class="gui_sprite"></div>
      <div id="button_b" class="gui_sprite"></div>

      <div id="button_menu" class="gui_sprite"></div>

      <div id="button_mute" class="gui_sprite"></div>
      <div id="indicator_mute" class="gui_sprite"></div>
      <div id="button_fullscreen" class="gui_sprite"></div>
    </main>

    <div id="screen_start_game">
      <button id="screen_start_game__button" tabindex="0"></button>
    </div>

    <div id="screen_loading">
      <div id="screen_start_game__spinner"></div>
    </div>
  </body>

  <script type="module" src="src/beetpx_entrypoint.ts"></script>
</html>
